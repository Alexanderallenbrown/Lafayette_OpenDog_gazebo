<launch>

  <arg name="model" default="$(find openDog_description)/urdf/openDog_full.urdf"/>


  <param name="robot_description" command="cat $(arg model)" />

 <!-- load joint control launch file for gazebodog -->
 <include file="$(find openDog_description)/launch/opendog_control.launch">
 </include>

 <rosparam file="$(find openDog_description)/config/openDog_control.yaml" command="load"/>

  <!-- load the controllers -->
  <node name="controller_spawner" pkg="controller_manager" type="spawner" respawn="false"
    output="screen" ns="/opendog"  args="joint1_position_controller joint2_position_controller joint3_position_controller joint4_position_controller joint5_position_controller joint6_position_controller joint7_position_controller  joint8_position_controller joint_state_controller"/>

    <!--  joint2_position_controller joint3_position_controller joint4_position_controller joint5_position_controller joint6_position_controller joint7_position_controller  joint8_position_controller joint_state_controller" -->

  <!-- convert joint states to TF transforms for rviz, etc -->
  <node name="robot_state_publisher" pkg="robot_state_publisher" type="robot_state_publisher"
    respawn="false" output="screen">
    <remap from="/joint_states" to="/opendog/joint_states" />
  </node>

  <!-- Show in Rviz   -->
  <!--<node name="rviz" pkg="rviz" type="rviz" args="-d $(find my_mira_description)/rviz_config/urdf.rviz"/>-->
  <!-- <node name="rviz" pkg="rviz" type="rviz" args=""/> -->

<!-- launch gazebo world -->
  <include file="$(find gazebo_ros)/launch/empty_world.launch">
    <arg name="world_name" value="$(find openDog_description)/launch/opendog.world"/>
    <!-- more default parameters can be changed here -->
  </include>

  <!-- Spawn a robot into Gazebo -->
<node name="spawn_urdf" pkg="gazebo_ros" type="spawn_model" args="-file $(find openDog_description)/urdf/openDog_full.urdf -urdf -z .3 -model openDog_full" />

</launch>